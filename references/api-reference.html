


<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Getting Started - Bonsai</title>
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />
	<link href="../stylesheets/test.css" rel="stylesheet" media="screen" />
    <link href="../favicon.ico" rel="icon" type="image/ico" />
      <script src="../javascripts/all.js"></script>
	
	<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WVB6MG2');</script>
<!-- End Google Tag Manager -->
	
  </head>

  <body class="references references_api-reference" data-languages="[]">
	  
	  
	  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WVB6MG2"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --> 

  <div id="flex-container">

	<nav id="primary-nav">



	<div id="logo"> <a href="../"><img class="bonsai-logo" src="../images/bonsai-logo.svg"></a></div>

	<label for="drop" class="toggle"><img class="menu-ham" src="../images/menu.svg"></label>
	<input type="checkbox" id="drop" />

	<ul class="menu">

		<li class="header_menu_item "> <a href="../guides/getting-started.html">Getting Started</a></li>

	
		<li class="header_menu_item"> <!-- First Tier Drop Down --> <label for="drop-1" class="toggle">Guides +</label><a  href="#">Guides</a>			
			<input type="checkbox" id="drop-1"/>
			<ul id="guides">
				<li class=""> <a href="../guides/ai-engine-guide.html">A.I. Engine Guide</a>  </li>
				<li class=""> <a href="../guides/getting-started.html">Getting Started</a>  </li>
				<li class=""> <a href="../guides/inkling-guide.html">Inkling Guide</a>  </li>
			</ul> 
		</li>

		<li class="header_menu_item"> <!-- First Tier Drop Down --> <label for="drop-2" class="toggle">References +</label><a  href="#">References</a>			
			<input type="checkbox" id="drop-2"/>
			<ul id="references">
				<li class="selected"> <a href="api-reference.html">API</a>  </li>
				<li class=""> <a href="cli-reference.html">CLI</a>  </li>
				<li class=""> <a href="inkling-reference.html">Inkling</a>  </li>
				<li class=""> <a href="library-reference.html">Library</a>  </li>
			</ul> 
		</li>
		
		<li class="header_menu_item "> <a href="../examples.html">Examples</a></li>

		<li><gcse:search  linktarget="_parent"></gcse:search></li>


	</ul>

</nav>





	<div id="main-wrapper">

    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">

        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
      
			 
<ul class="toc-footer">


<li><a href='https://github.com/BonsaiAI/slate'>Contribute to the Docs</a></li>
<li><a href='http://forums.bons.ai/'>Bonsai Forums</a></li>
<li><a href='mailto:support@bons.ai?subject=I need help with'>Email Us</a></li>
<li><a href='https://bons.ai'>Bonsai Home</a></li>

</ul>
       
        
	   <div class="cc-bottom">
	
	<div class="toc-footer bottom cc-info">

		<a href='https://creativecommons.org/licenses/by-sa/4.0/' class="cc-icon-width" >
			<svg class="cc" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
			viewBox="0 0 70.7 13.4" style="enable-background:new 0 0 70.7 13.4;" xml:space="preserve">

				<g>

				<g>
				<circle class="st0" cx="6.8" cy="6.7" r="6.1"/>
				<path d="M6.7,0c1.9,0,3.5,0.7,4.8,2c0.6,0.6,1.1,1.4,1.4,2.2c0.3,0.8,0.5,1.7,0.5,2.6c0,0.9-0.2,1.8-0.5,2.6
				c-0.3,0.8-0.8,1.5-1.4,2.1c-0.7,0.6-1.4,1.1-2.2,1.5c-0.8,0.3-1.7,0.5-2.6,0.5S5,13.3,4.2,12.9c-0.8-0.3-1.5-0.8-2.2-1.5
				s-1.1-1.4-1.5-2.2S0,7.6,0,6.7C0,5.8,0.2,5,0.5,4.2S1.3,2.6,2,2C3.3,0.7,4.8,0,6.7,0z M6.7,1.2c-1.5,0-2.8,0.5-3.9,1.6
				C2.3,3.4,1.9,4,1.6,4.6C1.4,5.3,1.2,6,1.2,6.7c0,0.7,0.1,1.4,0.4,2.1c0.3,0.7,0.7,1.3,1.2,1.8c0.5,0.5,1.1,0.9,1.8,1.2
				c0.7,0.3,1.4,0.4,2.1,0.4c0.7,0,1.4-0.1,2.1-0.4c0.7-0.3,1.3-0.7,1.8-1.2c1-1,1.6-2.3,1.6-3.9c0-0.7-0.1-1.4-0.4-2.1
				c-0.3-0.7-0.7-1.3-1.2-1.8C9.5,1.8,8.2,1.2,6.7,1.2z M6.6,5.6L5.7,6.1C5.6,5.9,5.5,5.7,5.4,5.6C5.3,5.6,5.1,5.5,5,5.5
				c-0.6,0-0.9,0.4-0.9,1.2c0,0.4,0.1,0.6,0.2,0.9C4.5,7.8,4.7,7.9,5,7.9c0.4,0,0.7-0.2,0.8-0.6l0.8,0.4C6.5,8.1,6.2,8.3,5.9,8.5
				c-0.3,0.2-0.7,0.3-1,0.3c-0.6,0-1.1-0.2-1.5-0.6C3.1,7.9,2.9,7.4,2.9,6.7c0-0.6,0.2-1.1,0.6-1.5c0.4-0.4,0.8-0.6,1.4-0.6
				C5.7,4.6,6.3,5,6.6,5.6z M10.5,5.6L9.6,6.1C9.5,5.9,9.4,5.7,9.3,5.6C9.1,5.6,9,5.5,8.9,5.5C8.3,5.5,8,5.9,8,6.7
				c0,0.4,0.1,0.6,0.2,0.9c0.2,0.2,0.4,0.3,0.7,0.3c0.4,0,0.7-0.2,0.8-0.6l0.8,0.4c-0.2,0.3-0.4,0.6-0.7,0.8c-0.3,0.2-0.7,0.3-1,0.3
				c-0.6,0-1.1-0.2-1.5-0.6C7,7.9,6.8,7.4,6.8,6.7c0-0.6,0.2-1.1,0.6-1.5c0.4-0.4,0.8-0.6,1.4-0.6C9.6,4.6,10.2,5,10.5,5.6z"/>
				</g>

				</g>
			</svg>
		</a>
		
		<a href='https://creativecommons.org/licenses/by-sa/4.0/'>Content:
		CC-BY-SA </a>
		
	</div>

</div>

    </div>
	      
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="api-overview">API Overview</h1>

<p>The Bonsai AI Engine provides programmers and data scientists with a new way of building sophisticated ML and AI applications. This API is at the core of how programmers interact with the AI engine.</p>

<p>The Bonsai BRAIN API has several features:</p>

<ul>
<li>Managing BRAINS on the AI engine.</li>
<li>Connecting simulators for training and use.</li>
<li>Storing and reusing data sets.</li>
<li>Getting predictions in both class request/response and streaming manner.</li>
</ul>

<h1 id="url-template">URL Template</h1>
<pre class="highlight plaintext"><code>requestMethod /v1/userName/assetName/assetVersion
</code></pre>
<ul>
<li><strong>requestMethod:</strong> The request method, such as <code class="prettyprint">GET</code>, <code class="prettyprint">POST</code>, or <code class="prettyprint">PUT</code>.</li>
<li><strong>v1:</strong> The API version number</li>
<li><strong>userNameOrOrg:</strong> Your username or organization name.</li>
<li><strong>assetName:</strong> Name of the asset. This could be a BRAIN (<code class="prettyprint">brainName</code>), <code class="prettyprint">dataset</code> (<code class="prettyprint">datasetName</code>), etc.</li>
<li><strong>assetVersion:</strong> Version number of the asset.</li>
</ul>

<h1 id="user-and-brain-status">User and BRAIN status</h1>

<h2 id="get-user-status">GET User status</h2>
<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/v1/userName</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<p>Uses the GET request method to get a list of assets owned by the user (or organization).</p>

<h3 id="example-response">Example Response</h3>

<p>This example response is for BRAIN assets:</p>
<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="p">:</span> <span class="s">Accept</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/javascript</span>
<span class="s">{</span>
<span class="s">   "brains":  [{</span>
<span class="s">       "id": 1</span>
<span class="s">       "name": "mybrain1",</span>
<span class="s">       "url": "/megan/mybrain1",</span>
<span class="s">       "status": "uninitialized"</span>

   <span class="p">},</span> <span class="p">{</span>
       <span class="s2">"id"</span><span class="p">:</span> <span class="mi">2</span>
       <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"mybrain2"</span><span class="p">,</span>
       <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/megan/mybrain2"</span><span class="p">,</span>
       <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"trained"</span><span class="p">,</span>
       <span class="s2">"training"</span><span class="p">:</span> <span class="s2">"/megan/mybrain2/dev"</span><span class="p">,</span>
   <span class="p">},</span> <span class="p">{</span>
       <span class="s2">"id"</span><span class="p">:</span> <span class="mi">2</span>
       <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"mybrain3"</span><span class="p">,</span>
       <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/megan/mybrain3"</span><span class="p">,</span>
       <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"training"</span><span class="p">,</span>
       <span class="s2">"training"</span><span class="p">:</span> <span class="s2">"/megan/mybrain3/dev"</span><span class="p">,</span>
       <span class="s2">"predictor"</span><span class="p">:</span> <span class="s2">"/megan/mybrain3/12"</span>
   <span class="p">}]</span>
   <span class="s2">"datasets"</span><span class="p">:</span>   <span class="p">[]</span>
<span class="p">}</span>
</code></pre>
<p>‍</p>

<h2 id="get-brain-status">GET BRAIN status</h2>
<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/v1/megan/myBrain</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<p>Uses the GET request method to get information about a BRAIN (<code class="prettyprint">brainName</code>) created by a user (<code class="prettyprint">userName</code>).</p>

<h3 id="example-response">Example Response</h3>

<p>This is an example response for getting BRAIN information for a specific brain:</p>
<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="p">:</span> <span class="s">Accept</span>
<span class="na">Content‐Type</span><span class="p">:</span> <span class="s">text/javascript</span>
<span class="s">{</span>
<span class="s">   "id": 1</span>
<span class="s">   "name": "mybrain1",</span>
<span class="s">   "datasets": [],</span>
<span class="s">   "generators": []</span>
<span class="s">   "simulators": [{</span>
<span class="s">       "name": "breakout",</span>
<span class="s">       "objectives": ["score", "ball_location_distance"]</span>
<span class="s">   }],</span>
<span class="s">   "latest": "/v1/megan/mybrain/11"</span>
<span class="s">}</span>
</code></pre>
<h1 id="inkling">Inkling</h1>

<p>‍</p>

<h2 id="get-inkling">GET Inkling</h2>
<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/v1/megan/myBrain/brainVersion/ink</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<p>Uses the GET request method to get the Inkling code for a version (<code class="prettyprint">brainVersion</code>) of a BRAIN (<code class="prettyprint">brainName</code>) created by a user (<code class="prettyprint">userName</code>). The <code class="prettyprint">brainVersion</code> is a number.</p>

<h3 id="example-response">Example Response</h3>

<p>This is an example response to a request for Inkling code for a specific BRAIN.</p>
<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="p">:</span> <span class="s">Accept</span>
<span class="na">Content‐Type</span><span class="p">:</span> <span class="s">text/x‐bonsai‐inkling</span>
<span class="s">concept foo follow input, feeds output</span>
<span class="s">...</span>
</code></pre>
<p>‍</p>

<h2 id="post-inkling">POST Inkling</h2>

<p>Uses the POST request method to post a new version of the Inkling code for a BRAIN. You cannot POST new Inkling while a BRAIN is training.</p>
<pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/v1/megan/myBrain/ink</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<h3 id="example-request">Example Request</h3>

<p>This is an example request for posting new Inkling for a BRAIN that is not currently training.</p>
<pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/v1/megan/myBrain/ink</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span>  <span class="s">api.bons.aiContent‐Type: text/x‐bonsai‐inkling</span>
<span class="na">Content‐Length</span><span class="p">:</span>  <span class="s">1028</span>
<span class="s">concept foo follow input, feeds output</span>
<span class="s">...</span>
</code></pre>
<h3 id="example-response">Example Response</h3>

<p>This is an example response to posting new Inkling for a BRAIN that is not training.</p>
<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">CreatedLocation: http://api.bons.ai/v1/megan/mybrain/11</span>
</code></pre>
<p>‍</p>

<h1 id="simulators">Simulators</h1>

<h2 id="get-simulator-information">GET Simulator Information</h2>
<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/userName/brainName/sims</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<p>Uses the GET request method to get the simulator information for a simulator connected to a BRAIN.</p>

<h3 id="example-response">Example Response</h3>

<p>This is an example response for getting simulator information.</p>
<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Vary</span><span class="p">:</span> <span class="s">Accept</span>
<span class="na">Content‐Type</span><span class="p">:</span> <span class="s">text/javascript{</span>
<span class="s">   "name": "breakout",</span>
<span class="s">   "connected": 2,</span>
<span class="s">   "instances": [{</span>
<span class="s">       "state": "ready_to_play".</span>
<span class="s">       "episode": 1</span>
<span class="s">   }]</span>
<span class="s">}</span>
</code></pre>
<p>‍</p>

<h2 id="get-update-simulator">GET Update Simulator</h2>
<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/V1/userName/brainName/sims/ws</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<p>Uses the GET request method to update the simulator.</p>

<h3 id="example-response">Example Response</h3>

<p>This is an example response for updating the simulator.</p>
<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Host</span><span class="p">:</span>  <span class="s">api.bons.ai</span>
<span class="na">Upgrade</span><span class="p">:</span>  <span class="s">"Websocket"</span>
<span class="na">Connection</span><span class="p">:</span>  <span class="s">upgrade</span>
</code></pre>
<p>‍</p>

<h1 id="training-mode">Training Mode</h1>

<h2 id="put-training-mode">PUT Training Mode</h2>
<pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/v1/userName/brainName/train</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<p>Uses the PUT request method to start training mode or stop training mode.</p>

<h3 id="example-response">Example Response</h3>

<p>This is an example response to using PUT to stop or start training mode.</p>
<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">http://api.bons.ai/v1/megan/mybrain/11</span>
</code></pre>
<h1 id="brain-versions-and-modes">BRAIN Versions and Modes</h1>

<h2 id="brain-versions">BRAIN Versions</h2>

<p><strong>BRAIN versions numerically count up as new code is uploaded to the server (and successfully compiled) or as BRAINs are trained.</strong></p>

<ul>
<li>Loading a BRAIN results in a new version. You can think of this as the randomly initialized neural network before training.</li>
<li>Training a BRAIN results in a new version.</li>
<li>A version of a BRAIN in the training state blocks state transitions. No loads, no trains, no new versions of the BRAIN can be created. Training must be cancelled before doing more operations on the BRAIN.</li>
<li>The BRAIN begins in an uninitialized state (aka version 0) which it permanently leaves after the first Inkling is uploaded. version 0 cannot make predictions (it has no schema).</li>
<li>For private beta only the most recent version of a BRAIN may be used for prediction this version can be referred to with the special version latest</li>
</ul>

<h2 id="brain-modes">BRAIN Modes</h2>

<p><strong>BRAIN versions have the following modes:</strong></p>

<ul>
<li><strong>ready_to_train:</strong> After Inkling is uploaded and successfully compiled, the BRAIN version number is incremented. That particular version is in the ready_to_train state. ready_to_train versions give predictions the same as or worse than random.</li>
<li><strong>training:</strong> After the train command is given, the BRAIN version is incremented and that version is in the training state. In this state the user cannot load new Inkling into the BRAIN or restart training. The user must cancel training to upload new Inkling.</li>
<li><strong>trained:</strong> If training is cancelled or completes the BRAIN version is in the trained state. Trained BRAIN versions can give predictions or receive more training. version is NOT incremented upon training completion.</li>
</ul>

      </div>
      <div class="dark-box">
      </div>
    </div>

    </div>

  </div>

  </body>
</html>
