


<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>CLI Reference - Bonsai</title>
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #ffffff;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #ffc33e;
}
.highlight .cp {
  color: #ffc33e;
}
.highlight .nt {
  color: #ffc33e;
}
.highlight .o, .highlight .ow {
  color: #ffffff;
}
.highlight .p, .highlight .pi {
  color: #ffffff;
}
.highlight .gi {
  color: #ffffff;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #51beff;
}
.highlight .kc {
  color: #4af065;
}
.highlight .kt {
  color: #4af065;
}
.highlight .kd {
  color: #4af065;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #ffffff;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #ffc33e;
}
.highlight .nc {
  color: #ffc33e;
}
.highlight .no {
  color: #ffc33e;
}
.highlight .nx {
  color: #4af065;
}
.highlight .nb, .highlight .bp {
  color: #4af065;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #ffffff;
}
.highlight .ss {
  color: #ffffff;
}
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">WebFont.load({  google: {    families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic"]  }});</script>
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />
	  <link href="../stylesheets/test.css" rel="stylesheet" media="screen" />
    <link href="../favicon.ico" rel="icon" type="image/ico" />
      <script src="../javascripts/all.js"></script>
      <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WVB6MG2');</script>
<!-- End Google Tag Manager -->
      <!-- start Mixpanel -->
<script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
mixpanel.init("91fbf7b68fb2356f91916026f221ddd5", {
    loaded: function(mixpanel) {
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        distinct_id = getParameterByName('refUserId');
        if (distinct_id) {
          mixpanel.identify(distinct_id);
        }
    }
});</script>
<!-- end Mixpanel -->

  </head>

  <body class="references references_cli-reference" data-languages="[&quot;powershell&quot;,&quot;shell&quot;]">


	  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WVB6MG2"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --> 

  <div id="flex-container">

	<nav id="primary-nav">



	<div id="logo"> <a href="../"><img class="bonsai-logo" src="../images/bonsai-logo.svg"></a></div>

	<label for="drop" class="toggle"><img class="menu-ham" src="../images/menu.svg"></label>
	<input type="checkbox" id="drop" />

	<ul class="menu">

		<li class="header_menu_item "> <a href="../guides/getting-started.html">Quick Start</a></li>

		<li class="header_menu_item"> <!-- First Tier Drop Down --> <label for="drop-1" class="toggle">Tutorials +</label><a  href="#">Tutorials</a>
			<input type="checkbox" id="drop-1"/>
			<ul id="tutorials">
				<li class=""> <a href="../guides/cli-install-guide.html">Install the CLI</a>  </li>
				<li class=""> <a href="../guides/local-dev-guide.html">Use the CLI for Training</a>  </li>
				<li class=""> <a href="../guides/sdk-install-guide.html">Install the SDK</a>  </li>
				<li class=""> <a href="../tutorials/tutorial1.html">Running Simulations and Writing Inkling</a>  </li>
				<li class=""> <a href="../tutorials/simulink.html">Train a Simulink Model with Bonsai</a>  </li>
				<li class=""> <a href="../guides/jupyter-api-guide.html">Use Bonsai's API with Jupyter</a>  </li>
			</ul>
		</li>

		<li class="header_menu_item"> <!-- First Tier Drop Down --> <label for="drop-2" class="toggle">Guides +</label><a  href="#">Guides</a>
			<input type="checkbox" id="drop-2"/>
			<ul id="guides">
				<li class=""> <a href="../guides/simulation-guide.html">Learn About Simulation Requirements</a>  </li>
				<li class=""> <a href="../guides/inkling2-guide.html">Learn the Inkling Language</a>  </li>
				<li class=""> <a href="../guides/machine-teaching.html">Programming Machine Teaching</a>  </li>
				<li class=""> <a href="../guides/ai-engine-guide.html">Understand AI Engine Components</a>  </li>
				<li class=""> <a href="../guides/web-graphs-guide.html">Understand BRAIN Graphs</a>  </li>
				<li class=""> <a href="../guides/sim-scale-guide.html">Scale Simulation runs with Azure Batch</a>  </li>
				<li class=""> <a href="../guides/playbooks.html">Machine Teaching Playbooks</a> </li>
			</ul>
		</li>

		<li class="header_menu_item"> <!-- First Tier Drop Down --> <label for="drop-3" class="toggle">References +</label><a  href="#">References</a>
			<input type="checkbox" id="drop-3"/>
			<ul id="references">
				<li class=""> <a href="api-reference.html">API Reference</a>  </li>
				<li class="selected"> <a href="cli-reference.html">CLI Reference</a>  </li>
				<li class=""> <a href="inkling2-reference.html">Inkling Reference</a>  </li>
				<li class=""> <a href="simulator-reference.html">Simulator Reference</a>
				<li class=""> <a href="library-reference.html">Python Library</a>  </li>
				<li class=""> <a href="cpp-library-reference.html">C++ Library</a>  </li>

			</ul>
		</li>

		<li class="header_menu_item "> <a href="../examples.html">Examples</a></li>

		<li>
			<input type="search" id="docs-search" placeholder="Search Bonsai Docs">
		</li>


	</ul>

</nav>


	<div id="main-wrapper">

    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">

        <div class="lang-selector">
              <a href="#" data-language-name="powershell">Windows</a>
              <a href="#" data-language-name="shell">macOS</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div class="page-title">CLI Reference</div>
      <div id="toc">
      </div>

			 
<ul class="toc-footer">

<li><a href='https://bons.ai'>Bonsai Home</a></li>
<li><a href='https://beta.bons.ai'>BRAIN Dashboard</a></li>
<li><a href='https://github.com/BonsaiAI/slate'>Contribute to the Docs</a></li>
<li><a href='https://bons.ai/get-started'>Apply for Bonsai Platform Preview</a></li>
<li><a href="/releases.html">Product Release Notes</a></li>
<li><a href="/system-reqs.html">Official System Requirements</a></li>
<li><a href='https://bons.ai/contact-us#contact-page-form'>Contact Us</a></li>

</ul>


	   <div class="cc-bottom">
	
	<div class="toc-footer bottom cc-info">

		<a href='https://creativecommons.org/licenses/by-sa/4.0/' class="cc-icon-width" >
			<svg class="cc" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
			viewBox="0 0 70.7 13.4" style="enable-background:new 0 0 70.7 13.4;" xml:space="preserve">

				<g>

				<g>
				<circle class="st0" cx="6.8" cy="6.7" r="6.1"/>
				<path d="M6.7,0c1.9,0,3.5,0.7,4.8,2c0.6,0.6,1.1,1.4,1.4,2.2c0.3,0.8,0.5,1.7,0.5,2.6c0,0.9-0.2,1.8-0.5,2.6
				c-0.3,0.8-0.8,1.5-1.4,2.1c-0.7,0.6-1.4,1.1-2.2,1.5c-0.8,0.3-1.7,0.5-2.6,0.5S5,13.3,4.2,12.9c-0.8-0.3-1.5-0.8-2.2-1.5
				s-1.1-1.4-1.5-2.2S0,7.6,0,6.7C0,5.8,0.2,5,0.5,4.2S1.3,2.6,2,2C3.3,0.7,4.8,0,6.7,0z M6.7,1.2c-1.5,0-2.8,0.5-3.9,1.6
				C2.3,3.4,1.9,4,1.6,4.6C1.4,5.3,1.2,6,1.2,6.7c0,0.7,0.1,1.4,0.4,2.1c0.3,0.7,0.7,1.3,1.2,1.8c0.5,0.5,1.1,0.9,1.8,1.2
				c0.7,0.3,1.4,0.4,2.1,0.4c0.7,0,1.4-0.1,2.1-0.4c0.7-0.3,1.3-0.7,1.8-1.2c1-1,1.6-2.3,1.6-3.9c0-0.7-0.1-1.4-0.4-2.1
				c-0.3-0.7-0.7-1.3-1.2-1.8C9.5,1.8,8.2,1.2,6.7,1.2z M6.6,5.6L5.7,6.1C5.6,5.9,5.5,5.7,5.4,5.6C5.3,5.6,5.1,5.5,5,5.5
				c-0.6,0-0.9,0.4-0.9,1.2c0,0.4,0.1,0.6,0.2,0.9C4.5,7.8,4.7,7.9,5,7.9c0.4,0,0.7-0.2,0.8-0.6l0.8,0.4C6.5,8.1,6.2,8.3,5.9,8.5
				c-0.3,0.2-0.7,0.3-1,0.3c-0.6,0-1.1-0.2-1.5-0.6C3.1,7.9,2.9,7.4,2.9,6.7c0-0.6,0.2-1.1,0.6-1.5c0.4-0.4,0.8-0.6,1.4-0.6
				C5.7,4.6,6.3,5,6.6,5.6z M10.5,5.6L9.6,6.1C9.5,5.9,9.4,5.7,9.3,5.6C9.1,5.6,9,5.5,8.9,5.5C8.3,5.5,8,5.9,8,6.7
				c0,0.4,0.1,0.6,0.2,0.9c0.2,0.2,0.4,0.3,0.7,0.3c0.4,0,0.7-0.2,0.8-0.6l0.8,0.4c-0.2,0.3-0.4,0.6-0.7,0.8c-0.3,0.2-0.7,0.3-1,0.3
				c-0.6,0-1.1-0.2-1.5-0.6C7,7.9,6.8,7.4,6.8,6.7c0-0.6,0.2-1.1,0.6-1.5c0.4-0.4,0.8-0.6,1.4-0.6C9.6,4.6,10.2,5,10.5,5.6z"/>
				</g>

				</g>
			</svg>
		</a>
		
		<a href='https://creativecommons.org/licenses/by-sa/4.0/'>Content:
		CC-BY-SA </a>
		
	</div>

</div>

    </div>

    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="cli-overview">CLI Overview</h1>

<p>The Bonsai Command Line Interface (CLI) is a text-based tool that enables you to configure and control the Bonsai Artificial Intelligence Engine. The CLI is especially useful for automation and connection to other tools. Currently, there are some actions that can only be performed using the CLI, such as loading your Inkling file and connecting your simulator. </p>

<p>For information about changes in each CLI release, please refer to the <a href="https://github.com/BonsaiAI/bonsai-cli/blob/master/CHANGELOG.md">CLI CHANGELOG</a> on GitHub.</p>

          <h1 id="installation">Installation</h1>

<h2 id="install">Install</h2>

<blockquote>
<p>Python 2 and Anaconda</p>
</blockquote>
<pre class="highlight plaintext"><code>pip install bonsai-cli
</code></pre>
<blockquote>
<p>Python 3</p>
</blockquote>
<pre class="highlight powershell tab-powershell"><code><span class="c1"># same as above</span>
</code></pre><pre class="highlight shell tab-shell"><code>pip3 install bonsai-cli
</code></pre>
<p>The Bonsai CLI uses pip, the PyPA recommended tool for installing Python packages. Note that macOS running Python 3 requires the use of <code class="prettyprint">pip3</code> instead of <code class="prettyprint">pip</code>.</p>

<h2 id="update">Update</h2>

<blockquote>
<p>Python 2 and Anaconda</p>
</blockquote>
<pre class="highlight plaintext"><code>pip install -U bonsai-cli
</code></pre>
<blockquote>
<p>Python 3</p>
</blockquote>
<pre class="highlight powershell tab-powershell"><code><span class="c1"># same as above</span>
</code></pre><pre class="highlight shell tab-shell"><code>pip3 install -U bonsai-cli
</code></pre>
<p>To update the Bonsai CLI to the most recent version please run the pip command. </p>

          <h1 id="commands">Commands</h1>

<blockquote>
<p>Help Text</p>
</blockquote>
<pre class="highlight plaintext"><code>bonsai --help
Usage: bonsai [OPTIONS] COMMAND [ARGS]...

  Command line interface for the Bonsai Artificial Intelligence Engine.

Options:
  --debug                           Enable verbose debugging output.
  --version                         Show the version and check if Bonsai is up
                                    to date.
  --sysinfo                         Show system information.
  --timeout INTEGER                 Set timeout for CLI API requests.
  --enable-color / --disable-color  Enable/disable color printing.
  -h, --help                        Show this message and exit.

Commands:
  configure  Authenticate with the BRAIN Server.
  create     Create a BRAIN and set the default BRAIN.
  delete     Delete a BRAIN.
  download   Downloads all the files related to a BRAIN.
  help       Show this message and exit.
  list       Lists BRAINs owned by current user.
  pull       Downloads project file(s) from a BRAIN.
  push       Uploads project file(s) to a BRAIN.
  sims       Retrieve information about simulators.
  switch     Change the active configuration section.
  train      Start and stop training on a BRAIN.
</code></pre>
<p>Use <code class="prettyprint">bonsai COMMAND --help</code> to get information about a specific command. You can use <code class="prettyprint">bonsai --help</code> to view a list of options for COMMAND.</p>

<h3 id="how-to-use-timeout">How to use timeout</h3>

<p><code class="prettyprint">bonsai --timeout [INTEGER] [COMMAND]</code></p>

<p>Example:
<code class="prettyprint">bonsai --timeout 10 list</code></p>

<p><strong>Note:</strong> Order matters because it is a top level command. The following would not work: 
<code class="prettyprint">bonsai list --timeout 10</code></p>

<h2 id="bonsai-configure">bonsai configure</h2>
<pre class="highlight plaintext"><code>$ bonsai -a configure --help
Usage: bonsai configure [OPTIONS]

  Authenticate with the BRAIN Server.

Options:
  --username TEXT    Provide username.
  --access_key TEXT  Provide an access key.
  --show      Prints active profile information.
  -h, --help  Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai -a configure</code> sets up authentication between you (as a user) and the server. This enables the server to verify your access to write Inkling code to a specific BRAIN.</p>

<p>The first time that you use this command, you will see a command prompt <a href="../../images/bonsai-cli-authentication.png">as below</a>:</p>

<p>Navigate to the [hyperlink][https://microsoft.com/devicelogin] on any web-enabled device, and you will see <a href="../../images/AAD-code.png">a prompt</a> to enter the code.</p>

<p>Once you enter the Authentication code, you will be prompted to <a href="../../images/Microsoft-login.png">log in</a> and authorize &ldquo;Bonsai&rdquo; to access your account. Click the account that you were whitelisted with to authenticate and your profile will be automatically configured to access the platform. </p>

<p>Access Key (typing will be hidden): You can find your <a href="../../images/Access-Keys.png">access key</a> at <a href="https://beta.bons.ai/accounts/settings/key">https://beta.bons.ai/accounts/settings/key</a>.</p>

<p><em>Note: The access key you need to input here is a one-time code generated when you click &ldquo;Create Access Key&rdquo; on the bonsai web portal.</em> </p>

<p>For security, you will not be able to view an access key after it has been created. However, you can create as many access keys as you’d like in case you need to install the CLI on multiple devices.</p>

<p><strong>The below instructions for bonsai configure are deprecated authentication stored for reference. DO NOT USE the below to access the platform.</strong>
<code class="prettyprint">bonsai configure</code> sets up authentication between you (as a user) and the server. This enables the server to verify your access to write Inkling code to a specific BRAIN.</p>

<p>The fields that are requested for input are:</p>

<p>Username: This is your bonsai portal username, you can find this on https://beta.bons.ai/accounts/settings under &lsquo;profile&rsquo;.</p>

<p>Access Key (typing will be hidden): You can find your <a href="../../images/Access-Keys.png">access key</a> at <a href="https://beta.bons.ai/accounts/settings/key">https://beta.bons.ai/accounts/settings/key</a>. </p>

<p><em>Note: The access key you need to input here is a one-time code generated when you click &ldquo;Create Access Key&rdquo; on the bonsai web portal.</em> </p>

<p>For security, you will not be able to view an access key after it has been created. However, you can create as many access keys as you’d like in case you need to install the CLI on multiple devices.</p>

<h2 id="bonsai-create">bonsai create</h2>
<pre class="highlight plaintext"><code>$ bonsai create --help
Usage: bonsai create [OPTIONS] BRAIN_NAME

  Creates a BRAIN and sets the default BRAIN for future commands.

Options:
  --project TEXT       Override to target another project directory.
  --project-type TEXT  Specify to download and use demo/starter project files
                       (e.g. "demos/cartpole").
  --json               Output json.              
  -h, --help           Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai create</code> generates a new brain and names it BRAIN_NAME.  It also sets the assumed BRAIN name for later commands.</p>

<p>BRAIN names may include (case insensitive, but case aware):</p>

<ul>
<li>letters</li>
<li>numbers</li>
<li>dashes</li>
</ul>

<p>If you&rsquo;d like to use one of our pre-populated projects, you may run <code class="prettyprint">bonsai create --project-type TEXT</code> in an empty directory where <code class="prettyprint">TEXT</code> is any of the following projects:</p>

<ul>
<li><code class="prettyprint">demos/cartpole</code></li>
<li><code class="prettyprint">demos/mountain-car</code></li>
<li><code class="prettyprint">templates/starter-project</code></li>
</ul>

<h2 id="bonsai-delete">bonsai delete</h2>
<pre class="highlight plaintext"><code>$ bonsai delete --help
Usage: bonsai delete [OPTIONS] BRAIN_NAME

  Deletes a BRAIN. A deleted BRAIN cannot be recovered. The name of a
  deleted BRAIN cannot be reused.

Options:
  -h, --help  Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai delete</code> deletes a BRAIN and its associated data from the Bonsai platform. Once a BRAIN is deleted, its data cannot be recovered, and its name cannot be reused.</p>

<h2 id="bonsai-diagnose">bonsai diagnose</h2>
<pre class="highlight plaintext"><code>Usage: bonsai diagnose [OPTIONS]

  Runs several tests to validate that the cli is working correctly

Options:
  -h, --help  Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai diagnose</code> runs several tests to ensure your local configuration is set up correctly. These tests are: </p>

<ul>
<li>Version of the CLI, to check if it is up-to-date.</li>
<li>Status of http://beta.bons.ai</li>
<li>Local configuration</li>
</ul>

<p>If your local configuration is not set up correctly, you will need to use <code class="prettyprint">bonsai -a configure</code> to change it appropriately. This configuration is listed in <a href="https://docs.bons.ai/references/cli-reference.html#bonsai-configure">bonsai -a configure</a></p>

<h2 id="bonsai-download">bonsai download</h2>
<pre class="highlight plaintext"><code>$ bonsai download --help
Usage: bonsai download [OPTIONS] BRAIN_NAME

  Downloads all the files related to a BRAIN.

Options:
  -h, --help  Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai download</code> creates local copies of your BRAIN project files. This will contain your Inkling code and may also contain simulator code. This command works like git clone - it copies files into a new directory, and will not try and overwrite files that already exist.</p>

<h2 id="bonsai-list">bonsai list</h2>
<pre class="highlight plaintext"><code>$ bonsai list --help
Usage: bonsai list [OPTIONS]

  Lists BRAINs owned by current user.

Options:
  --json      Output json.
  -h, --help  Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai list</code> shows you the BRAINs on your account. You must have your Bonsai account configured with <code class="prettyprint">bonsai -a configure</code> before you can see this list.</p>

<h2 id="bonsai-pull">bonsai pull</h2>
<pre class="highlight plaintext"><code>$ bonsai pull --help
Usage: bonsai pull [OPTIONS]

  Downloads project file(s) from a BRAIN.

Options:
  --all         Option to pull all files from targeted BRAIN.
  --brain TEXT  Override to target another BRAIN.
  -h, --help    Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai pull</code> asks you one by one whether you would like to download the specified file. You can respond with [Y/n] to the prompt for each file in the BRAIN&rsquo;s project. If you would like to automatically download all files from the BRAIN then <code class="prettyprint">bonsai pull -all</code> will update all files without asking you which ones to download.</p>

<h2 id="bonsai-push">bonsai push</h2>
<pre class="highlight plaintext"><code>$ bonsai push --help
Usage: bonsai push [OPTIONS]

  Uploads project file(s) to a BRAIN.

Options:
  --brain TEXT    Override to target another BRAIN.
  --project TEXT  Override to target another project directory
  --json          Output json.
  -h, --help      Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai push</code> uploads the project file contents specified in the .bproj file to the Bonsai AI Engine and can be viewed on <a href="https://beta.bons.ai">beta.bons.ai</a>. You can override the BRAIN you want to push to or the project directory you want to push.</p>

<p>You can not push files exceeding 640KB to the server.</p>

<h2 id="bonsai-sims-list">bonsai sims list</h2>
<pre class="highlight plaintext"><code>$ bonsai sims list --help
Usage: bonsai sims list [OPTIONS]

  List the simulators connected to the BRAIN server.

Options:
  --brain TEXT    Override to target another BRAIN.
  --project TEXT  Override to target another project directory.
  --json          Output json.
  -h, --help      Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai sims list</code> shows you all the simulators you have connected to the BRAIN server.</p>

<h2 id="bonsai-switch">bonsai switch</h2>
<pre class="highlight plaintext"><code>$ bonsai switch --help
Usage: bonsai switch [OPTIONS] PROFILE

  Change the active configuration section.

  For new profiles you must provide a url with the --url option.

Options:
  --url TEXT  Set the brain api url.
  --show      Prints active profile information.
  -h, --help  Show this message and exit.

Available Profiles:
</code></pre>
<p><code class="prettyprint">bonsai switch</code> changes your current profile to a different configuration as specified in your <code class="prettyprint">.bonsai</code> file. If you wish to create a new profile you can do so with the <code class="prettyprint">--url</code> option which creates a configuration you can use again in the future. <code class="prettyprint">bonsai switch</code> or <code class="prettyprint">bonsai switch -h/--help</code> will print available profiles.</p>

<h2 id="bonsai-train">bonsai train</h2>
<pre class="highlight plaintext"><code>$ bonsai train --help
Usage: bonsai train [OPTIONS] COMMAND [ARGS]...

  Start and stop training on a BRAIN, as well as get training status
  information.

Options:
  -h, --help  Show this message and exit.

Commands:
  resume  Resume training on the specified BRAIN.
  start   Trains the specified BRAIN.
  status  Gets training status on the specified BRAIN.
  stop    Stops training on the specified BRAIN.
</code></pre>
<p><code class="prettyprint">bonsai train</code> has no functionality itself. It will output the help to guide you to start, status, or stop training.</p>

<h2 id="bonsai-train-start">bonsai train start</h2>
<pre class="highlight plaintext"><code>$ bonsai train start --help
Usage: bonsai train start [OPTIONS]

  Trains the specified BRAIN.

Options:
  --brain TEXT    Override to target another BRAIN.
  --project TEXT  Override to target another project directory.
  --remote        Run a simulator remotely on Bonsai’s servers.
  --json          Output json.
  -h, --help      Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai train start</code> turns on/enables training mode for the current BRAIN. The BRAIN trains whenever a simulator is connected.</p>

<p>When training locally, if the simulator disconnects, the BRAIN remains in training mode, and it will train again where it left off when the simulator reconnects (up to an hour after being disconnected).</p>

<p>If <code class="prettyprint">bonsai train start --remote</code> is used, then the simulator will run remotely on Bonsai&rsquo;s servers for <a href="simulator-reference.html#cloud-hosted-simulators">supported simulators</a>.</p>

<h2 id="bonsai-train-resume">bonsai train resume</h2>
<pre class="highlight plaintext"><code>$ bonsai train resume --help
Usage: bonsai train resume [OPTIONS]

  Resume training on the specified BRAIN.

Options:
  --brain TEXT    Override to target another BRAIN
  --project TEXT  Override to target another project directory.
  --remote        Resume simulator remotely on Bonsai's servers.
  --json          Output json.
  -h, --help      Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai train resume</code> resumes training on an existing trained version of a BRAIN. You can stop and resume a BRAIN as needed.</p>

<h2 id="bonsai-train-status">bonsai train status</h2>
<pre class="highlight plaintext"><code>$ bonsai train status --help
Usage: bonsai train status [OPTIONS]

  Gets training status on the specified BRAIN.

Options:
  --brain TEXT    Override to target another BRAIN.
  --json          Output status as json.
  --project TEXT  Override to target another project directory.
  -h, --help      Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai train status</code> gets the current training status of your BRAIN.</p>

<h2 id="bonsai-train-stop">bonsai train stop</h2>
<pre class="highlight plaintext"><code>$ bonsai train stop --help
Usage: bonsai train stop [OPTIONS] BRAIN_NAME

  Stops training on the specified BRAIN.

Options:
  --brain TEXT    Override to target another BRAIN.
  --project TEXT  Override to target another project directory.
  --json          Output json.
  -h, --help      Show this message and exit.
</code></pre>
<p><code class="prettyprint">bonsai train stop</code> stops (or pauses) training on the current BRAIN. You can resume training with <code class="prettyprint">bonsai train resume</code>.</p>

          <h1 id="projects-and-config-files">Projects and Config Files</h1>

<p>The Bonsai command-line interface works with three files.  A <code class="prettyprint">.bonsai</code> file in
your user directory, a <code class="prettyprint">.bproj</code> project file in the directory containing the Inkling 
files and simulator configuration for a BRAIN, and a <code class="prettyprint">.brains</code> file that links
a project file to a BRAIN in the same directory as the project file.</p>

<h2 id="bonsai-file">.bonsai file</h2>
<pre class="highlight ini tab-ini"><code><span class="nn">[DEFAULT]</span>
<span class="py">port</span> <span class="p">=</span> <span class="s">443</span>
<span class="py">username</span> <span class="p">=</span> <span class="s">bonsaiuser</span>
<span class="py">accesskey</span> <span class="p">=</span> <span class="s">55555555-5555-5555-5555-555555555555</span>
<span class="py">webport</span> <span class="p">=</span> <span class="s">443</span>
<span class="py">webhost</span> <span class="p">=</span> <span class="s">beta.bons.ai</span>
<span class="py">host</span> <span class="p">=</span> <span class="s">api.bons.ai</span>
<span class="py">usessl</span> <span class="p">=</span> <span class="s">True</span>
</code></pre>
<p><em>Note:</em> the username for &ldquo;bonsaiuser&rdquo; is a randomized string that is populated by <code class="prettyprint">bonsai -a configure</code>. Do not change this value, or you will need to request a new code.</p>

<h2 id="bproj-file">.bproj file</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"mybrain.ink"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"my_simulator.py"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"training"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"python my_simulator.py"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"simulator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bonsai.ai"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Project files are created in the same directory as your Inkling files when
you download or create a BRAIN with the CLI. The project file has a name like
<code class="prettyprint">bonsai_brain.bproj</code> and contains a JSON object that ties together the Inkling
files, simulator files, and simulator configuration needed to train a BRAIN.</p>

<h3 id="files">Files</h3>

<p><code class="prettyprint">files</code> is a list of files included in this BRAIN. Directories
may also be in the <code class="prettyprint">files</code> list. Specifying a directory will include every
file within that directory in the BRAIN. Only one inkling
file per BRAIN is currently supported. If <code class="prettyprint">files</code> specifies multiple Inkling files,
only the first will be used and the remainder will be ignored.</p>

<p>There must be at least one valid path in the <code class="prettyprint">files</code> list.</p>

<h4 id="globbing">Globbing</h4>

<blockquote>
<p>Examples of globbing</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"*.ink"</span><span class="p">,</span><span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">All</span><span class="w"> </span><span class="err">inkling</span><span class="w"> </span><span class="err">files</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">current</span><span class="w"> </span><span class="err">directory</span><span class="w">
        </span><span class="s2">"*/*.py"</span><span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">All</span><span class="w"> </span><span class="err">python</span><span class="w"> </span><span class="err">source</span><span class="w"> </span><span class="err">files</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">every</span><span class="w"> </span><span class="err">subdirectory</span><span class="w"> </span><span class="err">one</span><span class="w"> </span><span class="err">level</span><span class="w"> </span><span class="err">below</span><span class="w"> </span><span class="err">cwd</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"training"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"python my_simulator.py"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"simulator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bonsai.ai"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>For users familiar with the Unix command line, file path expansion in the CLI will behave as
expected. There is no ~ expansion (in a Unix shell, this expands to the home directory), but <code class="prettyprint">*</code>,
<code class="prettyprint">?</code>, and character ranges expressed with <code class="prettyprint">[ ]</code> will be correctly matched. Wikipedia has detailed
information on <a href="https://en.wikipedia.org/wiki/Glob_(programming)">globbing syntax</a>.</p>

<p>You can test these on a generic shell under OSX and try the pattern from your project directory
using the ls command, whose globbing support should mirror the Bonsai CLI&rsquo;s in most cases.</p>

<h3 id="training">Training</h3>

<p><code class="prettyprint">training</code> is an object.  The <code class="prettyprint">simulator</code> field of that object
points to a pre-configured simulation container inside the platform. The
<code class="prettyprint">command</code> field describes the command to run to start the simulator.</p>

<p>Current list of supported simulators for Docker cloud-hosted training:</p>

<ul>
<li>OpenAI Gym environment: <a href="https://quay.io/repository/bonsai/gym"><code class="prettyprint">openai.gym</code></a></li>
<li>Bonsai Python <code class="prettyprint">bonsai-ai</code> library: <a href="https://quay.io/repository/bonsai/bonsai-ai"><code class="prettyprint">bonsai.ai</code></a></li>
<li>EnergyPlus Simulator: <a href="https://quay.io/repository/bonsai/energyplus"><code class="prettyprint">bonsai.energyplus</code></a></li>
<li>Legacy <code class="prettyprint">bonsai-python</code> library: <a href="https://quay.io/repository/bonsai/python"><code class="prettyprint">bonsai.python</code></a></li>
</ul>

<h2 id="brains-file">.brains file</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"brains"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mybrain"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>The <code class="prettyprint">.brains</code> file links a project to a BRAIN on the server. You can link one
project to multiple BRAINs.  The file is located in the same directory as a
project file.</p>

<ul>
<li><code class="prettyprint">name</code> is a name of one of this user&rsquo;s BRAINs.</li>
<li><code class="prettyprint">default</code> marks a named BRAIN as the default BRAIN to use with command
operations.</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="powershell">Windows</a>
                <a href="#" data-language-name="shell">macOS</a>
          </div>
      </div>
    </div>

    </div>

  </div>
  <!-- at the end of the BODY -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
  apiKey: '49fa6f01d7ff94a85b9b7434b1c2b7cf',
  indexName: 'bon-sai',
  inputSelector: '#docs-search',
  debug: false // Set debug to true if you want to inspect the dropdown
  });
  </script>
  </body>
</html>
