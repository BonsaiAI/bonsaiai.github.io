<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="640px" preserveAspectRatio="none" style="width:561px;height:640px;" version="1.1" viewBox="0 0 561 640" width="561px" zoomAndPan="magnify"><defs><filter height="300%" id="fufu8pjimpi0s" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="98" cy="18" fill="#000000" filter="url(#fufu8pjimpi0s)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fufu8pjimpi0s)" height="78.8867" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="20" y="89"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="20" x2="176" y1="115.4883" y2="115.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="22" x="87" y="107.5352">init</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="25" y="132.0898">`sim = Simulator(brain)</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="25" y="146.2227">`while sim.run():</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="42" x="25" y="160.3555">`  pass</text><rect fill="#FEFECE" filter="url(#fufu8pjimpi0s)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="6" y="229"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="190" y1="255.4883" y2="255.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="52" y="247.5352">episode_start</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="164" x="11" y="272.0898">`def episode_start(params):</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="11" y="286.2227">`  return initial_state</text><rect fill="#FEFECE" filter="url(#fufu8pjimpi0s)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="225" y="229"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="225" x2="431" y1="255.4883" y2="255.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="299" y="247.5352">simulate</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="230" y="272.0898">`def simulate(action):</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="230" y="286.2227">`  return state, reward, terminal</text><rect fill="#FEFECE" filter="url(#fufu8pjimpi0s)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="152" y="371"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="152" x2="290" y1="397.4883" y2="397.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="162" y="389.5352">episode_terminal</text><rect fill="#FEFECE" filter="url(#fufu8pjimpi0s)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="183.5" y="498"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="183.5" x2="258.5" y1="524.4883" y2="524.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="193.5" y="516.5352">finished</text><ellipse cx="221" cy="619" fill="none" filter="url(#fufu8pjimpi0s)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="221.5" cy="619.5" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><!--link *start to init--><path d="M98,28.1975 C98,40.8558 98,63.2766 98,83.7144 " fill="none" id="*start-init" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="98,88.8606,102,79.8606,98,83.8606,94,79.8606,98,88.8606" style="stroke: #A80036; stroke-width: 1.0;"/><!--link init to episode_start--><path d="M98,168.0443 C98,185.5314 98,206.012 98,223.3365 " fill="none" id="init-episode_start" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="98,228.6049,102,219.6049,98,223.6049,94,219.6049,98,228.6049" style="stroke: #A80036; stroke-width: 1.0;"/><!--link episode_start to simulate--><path d="M190.0898,261.5 C199.9529,261.5 209.8159,261.5 219.679,261.5 " fill="none" id="episode_start-simulate" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="224.8367,261.5,215.8367,257.5,219.8367,261.5,215.8367,265.5,224.8367,261.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--link simulate to simulate--><path d="M431.214,250.3733 C451.5376,251.6456 466,255.3545 466,261.5 C466,267.1174 453.9165,270.699 436.3184,272.2447 " fill="none" id="simulate-simulate" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="431.214,272.6267,440.4875,275.9436,436.2,272.2534,439.8903,267.9659,431.214,272.6267" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="472" y="266.5684">not terminal</text><!--link simulate to episode_terminal--><path d="M334.4207,294.2319 C335.6869,309.5014 334.5356,327.2857 326,341 C318.3977,353.2148 307.1164,362.8599 294.7327,370.428 " fill="none" id="simulate-episode_terminal" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="290.1251,373.1232,299.9133,372.0317,294.4409,370.5986,295.874,365.1263,290.1251,373.1232" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="333" y="337.5684">is terminal</text><!--link simulate to episode_terminal--><path d="M243.1058,294.0331 C231.4938,302.0843 221.1305,311.9589 214,324 C206.6478,336.4154 207.3047,352.1888 210.2627,365.8054 " fill="none" id="simulate-episode_terminal" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="211.4461,370.7142,213.2253,361.0274,210.2742,365.8535,205.4482,362.9024,211.4461,370.7142" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="215" y="337.5684">no more actions</text><!--link episode_terminal to episode_start--><path d="M153.1618,370.8596 C139.5406,363.0994 126.5108,353.2681 117,341 C107.8625,329.2135 103.0252,313.7062 100.4975,299.5194 " fill="none" id="episode_terminal-episode_start" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="99.667,294.3618,97.1486,303.8832,100.4619,299.2982,105.0469,302.6115,99.667,294.3618" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="118" y="337.5684">next episode</text><!--link episode_terminal to finished--><path d="M221,421.0911 C221,441.7035 221,470.9647 221,492.8484 " fill="none" id="episode_terminal-finished" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="221,497.961,225,488.961,221,492.961,217,488.961,221,497.961" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="222" y="464.5684">no more episodes</text><!--link finished to *end--><path d="M221,548.2229 C221,565.8366 221,588.7774 221,603.6928 " fill="none" id="finished-*end" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="221,608.8002,225,599.8002,221,603.8002,217,599.8002,221,608.8002" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
[*] - -> init
init - -> episode_start
init: `sim = Simulator(brain)
init: `while sim.run():
init: `  pass

    
episode_start -right-> simulate
episode_start: `def episode_start(params):
episode_start: `  return initial_state

simulate - -> simulate: not terminal
simulate: `def simulate(action):
simulate: `  return state, reward, terminal

simulate - -> episode_terminal: is terminal
simulate - -> episode_terminal: no more actions

episode_terminal - -> episode_start: next episode
episode_terminal - -> finished: no more episodes

finished - -> [*]
@enduml

PlantUML version 1.2017.19(Sun Nov 12 03:46:22 PST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9.0.1+11
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>